{% for block in section.blocks %}
  {% if block.settings.background %}
    <div class="primary-banner primary-banner--bg lazyload" data-bgset="{% include 'responsive-bg-image', image: block.settings.background %}" data-primary-banner-slick>
  {% else %}
    <div class="primary-banner" style="background-image:url('http://via.placeholder.com/1920x600')">
  {% endif %}
    <div class="container">
      <div class="row">
        <div class="col-xl-5 col-lg-6">
          <h2 class="primary-banner__title">{{ block.settings.title }}</h2>
          {% if block.settings.button_text != '' %}
            <a href="{{ block.settings.button_url }}" class="primary-banner__link-button">{{ block.settings.button_text }}</a>
          {% endif %}
          {% if block.settings.link_text != '' %}
            <div>
              <a href="{{ block.settings.link_url }}" class="primary-banner__link-inline">{{ block.settings.link_text }}</a>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
    {% if block.settings.badge %}
      <div class="primary-banner__badge">
        {% include 'responsive-image' with image: block.settings.badge, max_width: 170, max_height: 170 %}
      </div>
    {% else %}
        <div class="primary-banner__badge">
          <img src="http://via.placeholder.com/170x170" alt="">
      </div>
    {% endif %}
  </div>
{% endfor %}

{% schema %}
  {
    "name": "Primary Banner",
    "blocks": [
      {
        "type": "block",
        "name": "banner",
        "settings": [
          {
            "type": "textarea",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "url",
            "id": "button_url",
            "label": "Button URL"
          },
          {
            "type": "text",
            "id": "button_text",
            "label": "Button Text"
          },
          {
            "type": "url",
            "id": "link_url",
            "label": "Link URL"
          },
          {
            "type": "text",
            "id": "link_text",
            "label": "Link Text"
          },
          {
            "type": "image_picker",
            "id": "background",
            "label": "Background",
            "info": "1920x650"
          },
          {
            "type": "image_picker",
            "id": "badge",
            "label": "Badge",
            "info": "170x170"
          }
        ]
      }
    ],
    "presets": [{
        "name": "Primary Banner",
        "category": "Front Page"
    }]
  }
{% endschema %}


